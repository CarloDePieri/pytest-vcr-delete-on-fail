Search.setIndex({"docnames": ["api", "class_workflow", "context_managers", "full_readme", "index", "installation", "integration", "marker"], "filenames": ["api.rst", "class_workflow.rst", "context_managers.rst", "full_readme.rst", "index.rst", "installation.rst", "integration.rst", "marker.rst"], "titles": ["API Reference", "Class setup/teardown workflow", "Context Managers", "pytest-vcr-delete-on-fail", "pytest-vcr-delete-on-fail", "Installation", "Integrations", "Pytest Marker"], "terms": {"thi": [0, 1, 2, 3, 4, 5, 6, 7], "everi": [0, 1, 7], "public": 0, "interfac": 0, "except": [0, 1, 2, 7], "pytest": [0, 1, 5, 6], "mark": [0, 1, 3, 4, 6, 7], "vcr_delete_on_fail": [0, 3, 4, 6, 7], "which": [0, 3, 4, 7], "avail": 0, "marker": [0, 1, 2, 4, 6], "everyth": [0, 1], "els": 0, "need": [0, 1, 2], "import": [0, 1, 2, 3, 4, 6, 7], "from": [0, 1, 2, 6, 7], "pytest_vcr_delete_on_fail": [0, 1, 2, 6, 7], "modul": [0, 6, 7], "target": [0, 2, 7], "delete_default": 0, "skip": [0, 2, 4], "The": [0, 1, 2, 3, 7], "us": [0, 1, 2, 3, 4, 7], "specifi": [0, 3, 7], "cassett": [0, 1, 2, 3, 4, 6], "s": [0, 2, 3, 4, 6, 7], "delet": [0, 1, 2, 5, 6], "failur": [0, 1, 2, 3, 4, 7], "paramet": 0, "validtarget": [0, 7], "bool": 0, "whether": [0, 2], "default": [0, 2, 6, 7], "true": [0, 1, 6, 7], "fals": [0, 2, 3, 4, 6, 7], "otherwis": [0, 1], "type": [0, 1, 7], "argument": [0, 2, 7], "union": [0, 1], "none": [0, 1, 7], "str": [0, 1, 6, 7], "list": [0, 1, 7], "callabl": 0, "_pytest": [0, 7], "python": [0, 3, 5, 7], "function": [0, 1, 2, 3, 4, 6, 7], "mainli": 0, "check": [0, 1], "recurs": 0, "defin": [0, 6], "follow": [0, 1], "typevar": 0, "name": [0, 1, 4], "It": [0, 1, 6, 7], "can": [0, 1, 3, 4, 6, 7], "mean": [0, 2, 7], "string": [0, 7], "interpret": 0, "path": [0, 1, 2, 3, 6, 7], "return": [0, 1, 6, 7], "allow": [0, 2], "nest": [0, 7], "structur": 0, "all": [0, 1, 3, 4, 7], "ar": [0, 1, 3, 4], "valid": [0, 7], "exampl": [0, 2, 3, 6], "def": [0, 1, 2, 3, 4, 6, 7], "function_a": 0, "item": [0, 1, 6], "c": [0, 3], "function_b": 0, "d": 0, "yaml": [0, 1, 2, 3, 4, 7], "b": [0, 6, 7], "delete_on_fail": [0, 4], "an": [0, 1, 2], "rais": [0, 1, 2, 7], "insid": [0, 1, 2], "context": [0, 1, 3, 4, 7], "manger": 0, "code": [0, 1, 2], "block": [0, 1, 2], "option": [0, 2], "vcr_and_dof": [0, 4], "vcr": [0, 1, 2, 5, 7], "skip_delet": 0, "additional_delet": [0, 2], "kwarg": [0, 1], "A": [0, 2, 3, 4, 6, 7], "conveni": [0, 2], "thin": [0, 2], "wrapper": [0, 2], "around": [0, 2], "both": [0, 2, 7], "use_cassett": [0, 1, 2, 3, 4, 7], "record": [0, 1, 2, 7], "singl": [0, 2], "manag": [0, 1, 3, 4, 7], "instanc": [0, 2, 7], "case": 0, "other": [0, 6, 7], "ani": [0, 1, 2, 7], "addit": [0, 2], "pass": [0, 2, 3, 4, 7], "get_default_cassette_path": [0, 2, 6], "full": [0, 1, 7], "given": [0, 7], "test": [0, 1, 2, 3, 4, 5, 7], "convent": 0, "class": [0, 4, 6, 7], "test_nam": [0, 7], "repres": 0, "current": 0, "has_class_scoped_setup_fail": [0, 1], "ha": [0, 1, 7], "fail": [0, 1, 2, 5, 6, 7], "becaus": 0, "scope": [0, 1, 6, 7], "fixtur": [0, 1, 2, 4, 6], "setup": [0, 4, 7], "phase": [0, 7], "has_class_scoped_teardown_fail": [0, 1], "teardown": [0, 2, 3, 4, 7], "handl": 1, "often": [1, 6], "featur": 1, "immedi": [1, 2, 7], "implement": [1, 6], "intern": [1, 2], "treat": [1, 7], "slightli": 1, "differ": [1, 3, 7], "These": 1, "two": [1, 6], "viabl": 1, "base": [1, 3], "respect": 1, "request": [1, 2, 3, 4, 6, 7], "contextlib": 1, "contextmanag": 1, "pathlib": 1, "get_setup_cassette_path": 1, "node": [1, 2, 7], "determin": [1, 2, 7], "f": [1, 6, 7], "cl": 1, "__name__": 1, "__setup__": 1, "parent": 1, "stem": 1, "vcr_setup": 1, "network": 1, "cassette_path": [1, 3, 4], "setup_vcr": 1, "record_mod": [1, 2, 3, 4, 6, 7], "onc": [1, 2, 3, 4, 6, 7], "_wrap": 1, "v": 1, "yield": [1, 7], "get_class_setup_cassette_if_fail": 1, "been": 1, "flag": [1, 3], "after": [1, 2, 3, 4, 7], "run": [1, 3, 4, 5, 7], "could": [1, 3, 4, 7], "respons": 1, "delete_setup_on_fail": 1, "testatestcollect": 1, "autous": 1, "self": [1, 7], "here": 1, "valu": 1, "get": [1, 2, 3, 4, 6, 7], "test_url": [1, 6], "do": [1, 3, 4], "note": 1, "should": 1, "outsid": 1, "perform": 1, "test_failing_at_class_setup": 1, "won": 1, "t": [1, 3, 4, 7], "even": [1, 7], "sinc": [1, 3, 4, 7], "time": [1, 3, 4, 7], "assert": [1, 2, 3, 4, 6, 7], "status_cod": [1, 7], "200": [1, 7], "between": 1, "more": [1, 2, 3, 7], "verbos": 1, "solut": 1, "advantag": 1, "detect": [1, 7], "signatur": [1, 7], "found": [1, 3, 7], "api": [1, 4, 7], "refer": [1, 4, 7], "my_vcr": [1, 2, 3, 4, 7], "also": [1, 6, 7], "said": 1, "vcr_and_dof_setup": 1, "int": 1, "ad": 1, "them": 1, "additional_cassett": 1, "trigger": [1, 2, 7], "while": [1, 2], "being": 1, "concis": 1, "simpl": [1, 6, 7], "onli": [1, 2, 3, 4, 7], "good": 2, "gener": 2, "tool": [2, 3, 4, 6, 7], "sometim": [2, 3, 4], "precis": 2, "one": [2, 7], "enter": 2, "thei": [2, 3, 4, 6], "specif": 2, "area": 2, "befor": 2, "exit": [2, 3, 4], "happen": [2, 3, 4], "custom": 2, "test_thi": [2, 3, 4, 6, 7], "http": [2, 3, 4, 7], "github": [2, 3, 4, 7], "com": [2, 3, 4, 7], "In": [2, 3, 4], "present": 2, "disk": [2, 3, 4, 7], "execut": [2, 7], "leav": 2, "programmat": [2, 4], "call": 2, "AND": 2, "possibl": [2, 3, 4, 7], "filter_query_paramet": 2, "api_kei": 2, "yourapi": 2, "dummi": 2, "secretstr": 2, "same": [2, 7], "plugin": [3, 4, 5, 7], "autom": [3, 4], "vcrpy": [3, 4, 6], "pip": [3, 4, 5], "instal": [3, 4], "Then": [3, 4], "your": [3, 4], "save": [3, 4, 7], "when": [3, 4, 7], "eventu": [3, 4], "contain": [3, 4, 6], "multipl": [3, 4], "occur": [3, 4], "halfwai": [3, 4], "through": [3, 4], "tdd": [3, 4], "cach": [3, 4], "result": [3, 4, 7], "cover": [3, 4], "fraction": [3, 4], "under": [3, 4, 6], "turn": [3, 4], "prevent": [3, 4], "ever": [3, 4], "succe": [3, 4], "subsequ": [3, 4], "didn": [3, 4, 7], "depend": [3, 4], "fresh": [3, 4, 7], "mayb": [3, 4], "sensit": [3, 4], "random": [3, 4], "involv": [3, 4], "lead": [3, 4], "doubt": [3, 4], "lack": [3, 4], "trust": [3, 4], "toward": [3, 4], "suit": [3, 4], "wrong": [3, 4], "too": [3, 4], "mani": [3, 4], "level": [3, 4], "provid": [3, 4], "solv": [3, 4], "uncertainti": [3, 4], "so": [3, 4, 6], "start": [3, 4], "next": [3, 4], "inform": [3, 7], "depth": 3, "document": 3, "invok": 3, "poetri": 3, "now": 3, "clone": 3, "git": 3, "repo": 3, "carlodepieri": 3, "cd": 3, "inv": 3, "try": 3, "creat": 3, "virtualenv": 3, "python3": 3, "7": [3, 5], "project": 3, "If": 3, "version": [3, 6], "prefer": 3, "select": [3, 7], "p": 3, "like": 3, "8": 3, "command": 3, "cov": 3, "produc": 3, "coverag": 3, "report": 3, "To": 3, "against": [3, 5], "support": 3, "must": 3, "workflow": [3, 4], "act": 3, "dev": 3, "shell": 3, "open": 3, "abov": [3, 7], "first": 3, "clean": 3, "stop": 3, "write": 3, "autobuild": 3, "livereload": 3, "launch": 3, "serv": 3, "prerequisit": 4, "pypi": 4, "automat": 4, "about": 4, "integr": 4, "encrypt": 4, "compat": 5, "6": 5, "2": 5, "activ": 5, "3": 5, "10": 5, "simpli": 5, "page": 6, "how": [6, 7], "util": 6, "leverag": 6, "its": [6, 7], "flexibl": [6, 7], "decor": [6, 7], "wai": 6, "me": 6, "quickli": 6, "access": 6, "i": 6, "reus": 6, "safe": 6, "kept": 6, "control": 6, "vcrpy_encrypt": 6, "baseencryptedpersist": 6, "configur": [6, 7], "myencryptedpersist": 6, "encryption_kei": 6, "byte": 6, "sixteensecretkei": 6, "should_output_clear_text_as_wel": 6, "clear_text_suffix": 6, "custom_clear": 6, "encoded_suffix": 6, "custom_enc": 6, "pytest_recording_configur": 6, "config": 6, "register_persist": 6, "pytest_record": [6, 7], "vcr_config": [6, 7], "helper": 6, "take": 6, "append": 6, "suffix": 6, "get_encrypted_cassett": 6, "get_clear_text_cassett": 6, "shorthand": 6, "main": 7, "offer": 7, "By": 7, "polici": 7, "altern": 7, "syntax": 7, "work": 7, "reach": 7, "instruct": 7, "would": 7, "have": 7, "new": 7, "intend": 7, "ensur": 7, "environ": 7, "actual": 7, "quit": 7, "accept": 7, "sever": 7, "than": 7, "get_cassette_nam": 7, "letter": 7, "gitlab": 7, "element": 7, "collect": 7, "get_cassett": 7, "build": 7, "with_arg": 7, "later": 7, "directli": 7, "unnam": 7, "why": 7, "probabl": 7, "arbitrarili": 7, "extract": 7, "correct": 7, "come": 7, "handi": 7, "inspect": 7, "content": 7, "propag": 7, "testcollect": 7, "remain": 7, "despit": 7, "equival": 7, "test_this_as_wel": 7, "itself": 7, "setup_fixtur": 7, "teardown_fixtur": 7, "test_on": 7, "test_two": 7}, "objects": {"pytest": [[0, 0, 0, "-", "mark"]], "pytest.mark": [[0, 1, 1, "id0", "vcr_delete_on_fail"]], "": [[0, 0, 0, "-", "pytest_vcr_delete_on_fail"]], "pytest_vcr_delete_on_fail": [[0, 2, 1, "", "ValidTarget"], [0, 1, 1, "", "delete_on_fail"], [0, 1, 1, "", "get_default_cassette_path"], [0, 1, 1, "", "has_class_scoped_setup_failed"], [0, 1, 1, "", "has_class_scoped_teardown_failed"], [0, 1, 1, "", "vcr_and_dof"]]}, "objtypes": {"0": "py:module", "1": "py:function", "2": "py:data"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "function", "Python function"], "2": ["py", "data", "Python data"]}, "titleterms": {"api": 0, "refer": 0, "class": 1, "setup": 1, "teardown": 1, "workflow": 1, "vcr_delete_on_fail": 1, "vcr_and_dof": [1, 2], "context": 2, "manag": 2, "delete_on_fail": 2, "pytest": [3, 4, 7], "vcr": [3, 4, 6], "delet": [3, 4, 7], "fail": [3, 4], "rational": [3, 4], "doc": [3, 4], "develop": 3, "usag": 4, "other": 4, "exampl": 4, "instal": 5, "prerequisit": 5, "pypi": 5, "integr": 6, "encrypt": 6, "marker": 7, "automat": 7, "name": 7, "multipl": 7, "cassett": 7, "programmat": 7, "skip": 7, "about": 7, "fixtur": 7}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 56}})